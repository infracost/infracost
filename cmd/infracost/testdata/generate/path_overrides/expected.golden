version: 0.1

projects:
  - path: infra/components/bar
    name: infra-components-bar-bip
    terraform_var_files:
      - ../../default.tfvars
      - ../../bip.tfvars
    skip_autodetect: true
    dependency_paths:
      - ../../bip.tfvars
      - ../../default.tfvars
      - infra/components/bar/**
  - path: infra/components/blah
    name: infra-components-blah-bat
    terraform_var_files:
      - ../../default.tfvars
      - ../../network-bat.tfvars
      - ../../bat.tfvars
    skip_autodetect: true
    dependency_paths:
      - ../../bat.tfvars
      - ../../default.tfvars
      - ../../network-bat.tfvars
      - infra/components/blah/**
  - path: infra/components/blah
    name: infra-components-blah-bip
    terraform_var_files:
      - ../../default.tfvars
      - ../../bip.tfvars
    skip_autodetect: true
    dependency_paths:
      - ../../bip.tfvars
      - ../../default.tfvars
      - infra/components/blah/**
  - path: infra/components/foo
    name: infra-components-foo-baz
    terraform_var_files:
      - ../../default.tfvars
      - ../../network-baz.tfvars
      - ../../baz.tfvars
      - var.auto.tfvars
    skip_autodetect: true
    dependency_paths:
      - ../../baz.tfvars
      - ../../default.tfvars
      - ../../network-baz.tfvars
      - infra/components/foo/**
      - var.auto.tfvars

